<!DOCTYPE html>
<html>
   <head><title>test pascal js</title></head>
   <body>

      <script>
         var obj = { p: 1 };
         
      </script>

      <p>hello</p>

      <div id="container"></div>
      <div id="actions" style="visibility: hidden">
         <button id="testInputs">test inputs</button>
         <button id="testElem">test custom elements</button>
      </div>

      <script src="_loader.js"></script>

      <script>

         document.addEventListener('librairyLoaded', displayButtons);

         function displayButtons(){
            document.getElementById('testInputs').addEventListener('click', loadInputComponent);
            document.getElementById('testElem').addEventListener('click', loadElementComponent);

            document.getElementById('actions').style = "";
         }

         function loadElementComponent(){
            addScript('components/customElements/custom.elements.js', runCustomElems);
         }

         function loadInputComponent(){
            addScript('components/inputsDemo/inputs.demo.js', runInputComp);
         }

         function runCustomElems(){
            var div = document.getElementById('container');
            var model = {
               text: 'text'
            };
            customElem.load(div, model);
         }

         function runInputComp(){
            var div = document.getElementById('container');

            var model = {
               deep:{
                  value: "deep value"
               },
               textValue: "text",
               emailValue: "batman@adamwest.com",
               numberValue: 666,
               dateValue: new Date(),
               radioA: false,
               radioB: true,
               checkboxValue: true,
               textAreaValue: "text area",
               selection: 2,
               range:{
                  min: 10,
                  max: 30,
                  value: 15
               },
               color: '#f50344'
            }
            inputDemo.load(div, model).then(function (){
               console.log('component loaded')
            });
         }

         function addScript(path, then){
            var tag = document.createElement('script');
            tag.setAttribute('src', path);
            tag.onload = then;
            document.body.appendChild(tag);
         }
      </script>
   </body>
</html>
