<!DOCTYPE html>
<html>
   <head><title>test pascal js</title></head>
   <body>
      <p>hello</p>

      <div id="container"></div>
      <button id="test">test</button>

      <script src="_loader.js"></script>
      <!--<script src="main.js"></script>
      <script src="requests.js"></script>
      <script src="replacement.js"></script>
      <script src="template.js"></script>
      <script src="component.js"></script>-->

      <!--<script src="components/espacepublic/espace.public.js"></script>-->

      <script>

         document.addEventListener('librairyLoaded', loadComponent);

         function loadComponent(){
            var tag = document.createElement('script');
            tag.setAttribute('src', 'components/inputsDemo/inputs.demo.js');
            tag.onload = run;
            document.body.appendChild(tag);
         }

         function run(){
            var testButton = document.getElementById('test');
            testButton.addEventListener('click', function(){
               loadTest();
            });

            function loadTest(){
               var div = document.getElementById('container');

               var model = {
                  textValue: "text",
                  emailValue: "batman@adamwest.com",
                  numberValue: "666",
                  dateValue: new Date(),
                  radioA: true,
                  radioB: false,
                  checkboxValue: true,
                  textAreaValue: "text area",
                  selection: 2
               }
               inputDemo.load(div, model).then(function (){
                  console.log('component loaded')
               });
            }


            /*
            var handler = {
               get: function(target, name){
                  console.log(handler, target, name, target[name]);
                  return target[name];
               },
               set: function(target, name){
                  console.log('set', handler, target, name, target[name]);
                  return target[name];
               }
            }

            var a = {
               a: 1,
               b: 2,
               c: 3
            };
            var p = new Proxy(a, handler);

            console.log(p.a);
            p.a = 10;
            console.log(p.a);
            */
         }
      </script>
   </body>
</html>
